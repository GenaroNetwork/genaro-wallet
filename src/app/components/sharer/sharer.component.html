<nz-card>
  <div>
    <div>
      <nz-modal [(nzVisible)]="modalVisible" nzTitle="{{modalTitle | translate}}" (nzOnOk)="handleOk()">
        <p>{{modalMessage | translate}}</p>
      </nz-modal>
      <div class="add-drive-btn">
        <button nz-button nzType="primary" nz-popover [(nzVisible)]="visible" nzTrigger="click" [nzContent]="contentTemplate" nzPlacement="bottom">
          {{ "DRIVE.ADD_DRIVE" | translate}}
        </button>
        <ng-template #contentTemplate>
          <div>
            <h3>{{ "DRIVE.DRIVE_LOCATION" | translate}}</h3>
            <p class="input-style" (click)="selectFile()">
              <span *ngIf="addShareFilePath">{{addShareFilePath}}</span>
              <span *ngIf="!addShareFilePath">{{ "DRIVE.SELECT_SHARDING" | translate }}</span>
            </p>
            <h3 style="margin-top:20px">{{ "DRIVE.SHARING_SIZE" | translate }}</h3>
            <div>
              <nz-input-group [nzAddOnAfter]="addOnAfterTemplate">
                <input type="text" nz-input [(ngModel)]="addShareShareSize">
              </nz-input-group>
              <ng-template #addOnAfterTemplate>
                <nz-select [ngModel]="addShareSelectUnit">
                  <nz-option [nzLabel]="'GB'" [nzValue]="'GB'"></nz-option>
                  <nz-option [nzLabel]="'TB'" [nzValue]="'TB'"></nz-option>
                </nz-select>
              </ng-template>
            </div>
            <div style="margin-top: 40px; text-align: center;">
              <button nz-button nzType="primary" (click)="addShare()">{{ "DRIVE.NEXT" | translate }}</button>
            </div>
          </div>
        </ng-template>
      </div>
      <div class="hidden-col-btn">
        <button nz-button nzType="primary" nz-popover [(nzVisible)]="hiddenVisible" nzTrigger="click" [nzContent]="colTemplate"
          nzPlacement="bottom">
          {{ "DRIVE.HIDDEN_COL" | translate}}
        </button>
        <ng-template #colTemplate>
          <!-- <div>
            <label>{{ "DRIVE.NODE" | translate}}</label>
            <nz-switch [(ngModel)]="nodeColShow" nzSize="small"></nz-switch>
          </div>
          <div>
            <label>{{ "DRIVE.STATUS" | translate}}</label>
            <nz-switch [(ngModel)]="statusColShow" nzSize="small"></nz-switch>
          </div> -->
          <div>
            <label>{{ "DRIVE.UPTIME" | translate}}</label>
            <nz-switch [(ngModel)]="uptimeColShow" nzSize="small"></nz-switch>
          </div>
          <div>
            <label>{{ "DRIVE.RESTARTS" | translate}}</label>
            <nz-switch [(ngModel)]="restartsColShow" nzSize="small"></nz-switch>
          </div>
          <div>
            <label>{{ "DRIVE.PEERS" | translate}}</label>
            <nz-switch [(ngModel)]="peersColShow" nzSize="small"></nz-switch>
          </div>
          <div>
            <label>{{ "DRIVE.ALLOCS" | translate}}</label>
            <nz-switch [(ngModel)]="allocsColShow" nzSize="small"></nz-switch>
          </div>
          <div>
            <label>{{ "DRIVE.DELTA" | translate}}</label>
            <nz-switch [(ngModel)]="deltaColShow" nzSize="small"></nz-switch>
          </div>
          <div>
            <label>{{ "DRIVE.PORT" | translate}}</label>
            <nz-switch [(ngModel)]="portColShow" nzSize="small"></nz-switch>
          </div>
          <div>
            <label>{{ "DRIVE.SHARED" | translate}}</label>
            <nz-switch [(ngModel)]="sharedColShow" nzSize="small"></nz-switch>
          </div>
          <div>
            <label>{{ "DRIVE.BRIDGES" | translate}}</label>
            <nz-switch [(ngModel)]="bridgesColShow" nzSize="small"></nz-switch>
          </div>
        </ng-template>
      </div>
      <nz-table #basicTable [nzData]="driversData" nzShowPagination="false">
        <thead>
          <tr>
            <th *ngIf="nodeColShow">{{ "DRIVE.NODE" | translate}}</th>
            <th *ngIf="statusColShow">{{ "DRIVE.STATUS" | translate}}</th>
            <th *ngIf="uptimeColShow">{{ "DRIVE.UPTIME" | translate}}</th>
            <th *ngIf="restartsColShow">{{ "DRIVE.RESTARTS" | translate}}</th>
            <th *ngIf="peersColShow">{{ "DRIVE.PEERS" | translate}}</th>
            <th *ngIf="allocsColShow">{{ "DRIVE.ALLOCS" | translate}}</th>
            <th *ngIf="deltaColShow">{{ "DRIVE.DELTA" | translate}}</th>
            <th *ngIf="portColShow">{{ "DRIVE.PORT" | translate}}</th>
            <th *ngIf="sharedColShow">{{ "DRIVE.SHARED" | translate}}</th>
            <th *ngIf="bridgesColShow">{{ "DRIVE.BRIDGES" | translate}}</th>
            <th>{{ "DRIVE.OPTION" | translate}}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of driversData">
            <td *ngIf="nodeColShow">
              <div>
                <span>{{data.id}}</span>
                <br/>
                <span>{{data.location}}</span>
              </div>
            </td>
            <td *ngIf="statusColShow">
              <span class="{{data.statusColor}}">{{data.status}}</span>
            </td>
            <td *ngIf="uptimeColShow">{{data.time}}</td>
            <td *ngIf="restartsColShow">{{data.restarts}}</td>
            <td *ngIf="peersColShow">{{data.peers}}</td>
            <td *ngIf="allocsColShow">
              <div>
                <span>{{data.contractCount}}</span>
                <br/>
                <span>{{data.dataReceivedCount + ' received'}}</span>
              </div>
            </td>
            <td *ngIf="deltaColShow">
              <span class="{{data.deltaColor}}">{{data.delta}}</span>
            </td>
            <td *ngIf="portColShow">
              <div class="{{data.portColor}}">
                <span>{{data.listenPort}}</span>
                <br/>
                <span>{{data.connectionType}}</span>
              </div>
            </td>
            <td *ngIf="sharedColShow">
              <div>
                <nz-progress [nzPercent]="data.percentUsed" nzStatus="active"></nz-progress>
                <p>{{data.spaceUsed}}/{{data.storageAllocation}}</p>
              </div>
            </td>
            <td *ngIf="bridgesColShow">
              <span class="{{data.bridgesColor}}">{{data.bridgesText}}</span>
            </td>
            <td>
              <nz-dropdown [nzPlacement]="'bottomRight'" [nzTrigger]="'click'" (nzVisibleChange)="changeVisible($event)">
                <a nz-dropdown>
                  ...
                </a>
                <ul nz-menu>
                  <li nz-menu-item (click)="restartShare(data)">{{ "DRIVE.RESTART" | translate}}</li>
                  <li *ngIf="data.statusSwitch" nz-menu-item (click)="stopShare(data)">{{ "DRIVE.STOP" | translate}}</li>
                  <li *ngIf="!data.statusSwitch" nz-menu-item (click)="startShare(data)">{{ "DRIVE.START" | translate}}</li>
                  <li nz-menu-item (click)="deleteShare(data)">{{ "DRIVE.DELETE" | translate}}</li>
                  <li nz-menu-item (click)="showLog(data)">{{ "DRIVE.SHOW_LOG" | translate}}</li>
                  <li nz-menu-item (click)="openConfig(data)">{{ "DRIVE.OPEN_CONFIG" | translate}}</li>
                </ul>
              </nz-dropdown>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </div>
</nz-card>