<!-- 更改钱包名 -->
<nz-modal nzTitle="{{ 'MODEL.WALLET_CHANGE_NAME' | translate }}" [nzVisible]="dialogName==='walletChangeName'" (nzOnCancel)="dialogNameChange.emit(null)"
  (nzOnOk)="dialogDone()">
  <input nz-input nzSize="large" placeholder="{{ 'MODEL.WALLET_CHANGE_NAME_PLACEHOLDER' | translate }}" [(ngModel)]="walletChangeName">
</nz-modal>

<!-- 更改钱包密码 -->
<nz-modal nzTitle="{{ 'MODEL.WALLET_CHANGE_PASSWORD' | translate }}" [nzVisible]="dialogName==='walletChangePassword'" (nzOnCancel)="dialogNameChange.emit(null)"
  (nzOnOk)="dialogDone()">
  <input nz-input type="password" nzSize="large" placeholder="{{ 'MODEL.WALLET_CHANGE_PASSWORD_PLACEHOLDER_OLD' | translate }}"
    [(ngModel)]="walletChangePassword.old">
  <br/>
  <br/>
  <input nz-input type="password" nzSize="large" placeholder="{{ 'MODEL.WALLET_CHANGE_PASSWORD_PLACEHOLDER' | translate }}"
    [(ngModel)]="walletChangePassword.new">
  <br/>
  <br/>
  <input nz-input type="password" nzSize="large" placeholder="{{ 'MODEL.WALLET_CHANGE_PASSWORD_PLACEHOLDER_REPEAT' | translate }}"
    [(ngModel)]="walletChangePassword.repeat">
  <br/>
  <br/>
</nz-modal>

<!-- 导出 JSON -->
<nz-modal nzTitle="{{ 'MODEL.WALLET_EXPORT_JSON' | translate }}" [nzVisible]="dialogName==='walletExportJson'" (nzOnCancel)="dialogNameChange.emit(null)"
  (nzOnOk)="dialogDone()">
  <input nz-input type="password" nzSize="large" placeholder="{{ 'MODEL.WALLET_CHANGE_PASSWORD_PLACEHOLDER_OLD' | translate }}"
    [(ngModel)]="walletExportJson">
</nz-modal>

<!-- 删除钱包 -->
<nz-modal nzTitle="{{ 'MODEL.WALLET_DELETE' | translate }}" [nzVisible]="dialogName==='walletDelete'" (nzOnCancel)="dialogNameChange.emit(null)"
  (nzOnOk)="dialogDone()">
  <input nz-input type="password" nzSize="large" placeholder="{{ 'MODEL.WALLET_CHANGE_PASSWORD_PLACEHOLDER_OLD' | translate }}"
    [(ngModel)]="walletExportJson">
</nz-modal>

<!-- 购买空间 -->
<nz-modal [nzVisible]="dialogName==='buySpace'" (nzOnCancel)="dialogNameChange.emit(null)" (nzOnOk)="dialogDone()" [nzMaskClosable]="false"
  [nzTitle]="'TXEDEN.BUY_SPACE' | translate" [nzFooter]="buySpaceFooter" class="buy-space">
  <ng-container *ngIf="buySpaceStep===0">
    <app-input name="spaceRange" (iptChange)="buySpaceRange=$event"></app-input>
    <app-input name="spaceLimit" (iptChange)="buySpaceLimit=$event"></app-input>
    <app-input name="gas" (iptChange)="buySpaceGas=$event"></app-input>
  </ng-container>
  <ng-container *ngIf="buySpaceStep===1">
    <div nz-row class="review">
      <div nz-col nzSpan="6" class="label">{{ 'INPUT.SPACE_RANGE' | translate }}{{ 'COMMON.COLON' | translate }}</div>
      <div nz-col nzSpan="18">{{ buySpaceRange }}GB</div>
    </div>
    <div nz-row class="review">
      <div nz-col nzSpan="6" class="label">{{ 'INPUT.SPACE_LIMIT' | translate }}{{ 'COMMON.COLON' | translate }}</div>
      <div nz-col nzSpan="18">{{ buySpaceLimit }}{{ 'COMMON.MONTH(S)' | translate }}</div>
    </div>
    <div nz-row class="review">
      <div nz-col nzSpan="6" class="label">{{ 'TXEDEN.BUY_PREVIEW_PRICE' | translate }}{{ 'COMMON.COLON' | translate }}</div>
      <div nz-col nzSpan="18">{{ (buySpaceRange*buySpaceLimit*SPACE_UNIT_PRICE).toFixed(2) }} GNX</div>
    </div>
    <app-input name="password" [(ipt)]="buySpacePassword"></app-input>
  </ng-container>
  <ng-container *ngIf="buySpaceStep===2">
    {{ 'TXEDEN.BUY_SPACE' | translate }}
  </ng-container>
</nz-modal>
<ng-template #buySpaceFooter>
  <ng-container *ngIf="buySpaceStep===0">
    <span>{{ 'TXEDEN.BUY_PREVIEW_PRICE' | translate }} {{ (buySpaceRange*buySpaceLimit*SPACE_UNIT_PRICE).toFixed(2) }} GNX</span>
    <button nz-button nzSize="large" nzType="primary" (click)="buySpaceStep=buySpaceStep+1">{{ 'COMMON.NEXT' | translate }}</button>
  </ng-container>
  <ng-container *ngIf="buySpaceStep===1">
    <button nz-button nzSize="large" nzType="primary" (click)="buySpaceStep=buySpaceStep-1">{{ 'COMMON.PREV' | translate }}</button>
    <button nz-button nzSize="large" nzType="primary" (click)="dialogDone()">{{ 'COMMON.BUY_NOW' | translate }}</button>
  </ng-container>
  <ng-container *ngIf="buySpaceStep===2">
    <button nz-button nzSize="large" nzType="primary" (click)="dialogName=null">{{ 'COMMON.DONE' | translate }}</button>
  </ng-container>
</ng-template>

<!-- 购买流量 -->
<nz-modal [nzVisible]="dialogName==='buyTraffic'" (nzOnCancel)="dialogNameChange.emit(null)" (nzOnOk)="dialogDone()" [nzMaskClosable]="false"
  [nzTitle]="'TXEDEN.BUY_TRAFFIC' | translate" [nzFooter]="buyTrafficFooter" class="buy-traffic">
  <ng-container *ngIf="buyTrafficStep===0">
    <app-input name="traffic" (iptChange)="buyTraffic=$event"></app-input>
    <app-input name="gas" (iptChange)="buyTrafficGas=$event"></app-input>
  </ng-container>
  <ng-container *ngIf="buyTrafficStep===1">
    <div nz-row class="review">
      <div nz-col nzSpan="6" class="label">{{ 'INPUT.TRAFFIC' | translate }}{{ 'COMMON.COLON' | translate }}</div>
      <div nz-col nzSpan="18">{{ buyTraffic }}GB</div>
    </div>
    <div nz-row class="review">
      <div nz-col nzSpan="6" class="label">{{ 'TXEDEN.BUY_PREVIEW_PRICE' | translate }}{{ 'COMMON.COLON' | translate }}</div>
      <div nz-col nzSpan="18">{{ (buyTraffic*TRAFFIC_UNIT_PRICE).toFixed(2) }} GNX</div>
    </div>
    <app-input name="password" [(ipt)]="buySpacePassword"></app-input>
  </ng-container>
  <ng-container *ngIf="buyTrafficStep===2">
  </ng-container>
</nz-modal>
<ng-template #buyTrafficFooter class="btfooter">
  <ng-container *ngIf="buyTrafficStep===0">
    <span>{{ 'TXEDEN.BUY_PREVIEW_PRICE' | translate }} {{ (buyTraffic*TRAFFIC_UNIT_PRICE).toFixed(2) }} GNX</span>
    <button nz-button nzSize="large" nzType="primary" (click)="buyTrafficStep=buyTrafficStep+1">{{ 'COMMON.NEXT' | translate }}</button>
  </ng-container>
  <ng-container *ngIf="buyTrafficStep===1">
    <button nz-button nzSize="large" nzType="primary" (click)="buyTrafficStep=buyTrafficStep-1">{{ 'COMMON.PREV' | translate }}</button>
    <button nz-button nzSize="large" nzType="primary" (click)="dialogDone()">{{ 'COMMON.BUY_NOW' | translate }}</button>
  </ng-container>
  <ng-container *ngIf="buyTrafficStep===2">
    <button nz-button nzSize="large" nzType="primary" (click)="dialogName=null">{{ 'COMMON.DONE' | translate }}</button>
  </ng-container>
</ng-template>
